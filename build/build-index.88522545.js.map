{"mappings":"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","sources":["dist/CoreHacks/EmulationCoreHacks.js"],"sourcesContent":["/**\n * Random Warp Script\n */\nvar isWarping = false;\nvar randomWarpsEnabled = true;\nvar needsPositioningAfterWarp = false;\nvar fromEscalator = false;\nvar mapHeaderChanged = false;\n\nvar autosaveState = 0;\n\n/******************/\n/* Warp Addresses */\n/******************/\n/**\n *  Order of events for a warp script\n * \n *  1) A player steps on a warp tile\n *  2) A write8 is perforemed to bank, then map, then warp for current game\n *  3) Several read8s are performed to bank, then map, then warp \n *  4) Exit animation is played (i.e walking through a door) and screen fades to black\n *  5) A write32 is done to the last bank address\n *  6) New map is loaded and fades in then enterance animation is played \n * \n *  Warp flow:\n * \n *  Within game:\n *  Wait for write to warp address -> \n *  switch to warping state -> \n *  wait for next read from warp address -> \n *  before reading overwrite it -> \n *  update flags e.t.c\n *  continue  \n */\nconst EMERALD_CURRENT_BANK = 0x2032ee4;\nconst EMERALD_CURRENT_MAP  = 0x2032ee5;\nconst EMERALD_CURRENT_WARP = 0x2032ee6;\n\n// These are from the normally dynamic save block \n// gSaveBlock1Ptr->location.x e.t.c\nconst X_VAL_POST_WARP = 0x02026688;\nconst Y_VAL_POST_WARP = 0x0202668A;\n\nvar flagManager; // only global to help debugging\n\nconst SPEEDUP_HACKS_MODE = { ON: 2, BATTLE_ONLY: 1, OFF: 0}\nvar speedupHackState = SPEEDUP_HACKS_MODE.ON;\n\nfunction setSpeedupHackState(mode) {\n    if (mode == SPEEDUP_HACKS_MODE.ON) {\n        bypassWait = true;\n        speedupHackState = SPEEDUP_HACKS_MODE.ON\n    } else if (mode == SPEEDUP_HACKS_MODE.BATTLE_ONLY) {\n        bypassWait = false;\n        speedupHackState = SPEEDUP_HACKS_MODE.BATTLE_ONLY;\n    } else if (mode == SPEEDUP_HACKS_MODE.OFF) {\n        bypassWait = false;\n        speedupHackState = SPEEDUP_HACKS_MODE.OFF;\n    }\n}\n\nvar disableWaitCount = 0;\nvar doingLongWait = false;\nasync function disableBypassWait() {\n\n    if (doingLongWait) {\n        return;\n    }\n\n    bypassWait = false;\n    disableWaitCount = Math.max(disableWaitCount + 1, 2);\n    while(disableWaitCount > 0 ) {\n        await delay(500);\n        disableWaitCount--\n    }\n    disableWaitCount = 0;\n\n    if (!doingLongWait) {\n        bypassWait = true;\n    }\n}\n\nasync function longDisableBypassWait() {\n    doingLongWait = true;\n    bypassWait = false;\n    await delay(5000);\n    doingLongWait = false;\n    bypassWait = true;\n}\n\nvar usingHomeWarp = false;\nGameBoyAdvanceCPU.prototype.write32WithoutIntercept = GameBoyAdvanceCPU.prototype.write32;\nGameBoyAdvanceCPU.prototype.write32 = function (address, data) { \n\n\n    if (address == 0x2037f18 && needsPositioningAfterWarp) {\n        // ensure gMapHeader has changed before we try and fix the players position \n        mapHeaderChanged = true;\n    } else if (address == 0x2037f18 && autosaveState == 1) {\n        IodineGUI.Iodine.saveStateManager.saveMultiState(\"LATEST\");\n        autosaveState = 0;\n    }\n\n    if (address == 0x02038c5c && speedupHackState == SPEEDUP_HACKS_MODE.ON) {\n        if (data == -1) {\n            disableBypassWait();\n        }\n    } else if (address == 0x02020004) {\n        // Make emulation more accurate :/\n        data = 0;\n    } else if (address == 0x02025364 && speedupHackState == SPEEDUP_HACKS_MODE.BATTLE_ONLY) {\n        bypassWait = true;\n    }    \n\n    if (usingHomeWarp && address == EMERALD_CURRENT_BANK){\n        this.write8(EMERALD_CURRENT_BANK, 0);\n        this.write8(EMERALD_CURRENT_MAP, 10);\n        this.write8(EMERALD_CURRENT_WARP, 5);\n        needsPositioningAfterWarp = warpsNeedingPositionForces.get(\"E,0,10,5\");\n        usingHomeWarp = false;\n        return;\n    }\n\n    this.write32WithoutIntercept(address, data);\n}\n\nGameBoyAdvanceCPU.prototype.write16WithoutIntercept = GameBoyAdvanceCPU.prototype.write16;\nGameBoyAdvanceCPU.prototype.write16 = function (address, data) { \n\n    if (needsPositioningAfterWarp && mapHeaderChanged) {\n        if (address == X_VAL_POST_WARP) {\n    \n            return this.write16WithoutIntercept(address, needsPositioningAfterWarp[0]);\n    \n        } else if (address == Y_VAL_POST_WARP) {\n    \n            console.log(\"finished warp setting position after\")\n            let yLocation = needsPositioningAfterWarp[1];\n            needsPositioningAfterWarp = false;\n            mapHeaderChanged = false;\n            return this.write16WithoutIntercept(address, yLocation);\n        }\n    } else if (fromEscalator) {\n        if (address == X_VAL_POST_WARP) {\n    \n            fromEscalator = false;\n            data = data - 1;\n    \n        }\n    }\n\n    this.write16WithoutIntercept(address, data);\n}\n\n GameBoyAdvanceCPU.prototype.write8WithoutIntercept = GameBoyAdvanceCPU.prototype.write8;\n GameBoyAdvanceCPU.prototype.write8 = function (address, data) { \n\n    if (address == EMERALD_CURRENT_WARP){\n        isWarping = randomWarpsEnabled || forceNextWarp;\n    } else if (address == 0x02024f0e && data != 0 && speedupHackState == SPEEDUP_HACKS_MODE.BATTLE_ONLY) {\n        bypassWait = false;\n    }\n    \n    this.write8WithoutIntercept(address, data);\n }\n\nGameBoyAdvanceCPU.prototype.read8WithoutIntercept = GameBoyAdvanceCPU.prototype.read8;\nGameBoyAdvanceCPU.prototype.read8 = function (address) {\n\n    if (!isWarping) return this.read8WithoutIntercept(address);\n\n    if (address == EMERALD_CURRENT_BANK) \n    {\n        address = this.handleWarpRedirection(address, IodineGUI.Iodine.IOCore.cartridge.romCode);\n    }\n\n    return this.read8WithoutIntercept(address);\n}\n\nvar reverseNextWarp = false; // Set true when loading a save state that was going through a warp\nvar forceNextWarp = null;\nvar useAutosaves = false;\nGameBoyAdvanceCPU.prototype.handleWarpRedirection = function (address, romCode) {\n\n    let bank = this.read8WithoutIntercept(address);\n    let map = this.read8WithoutIntercept(address + 1);\n    let warpNo = this.read8WithoutIntercept(address + 2);\n    \n    if (warpNo == 255) { \n\n        // Special Fix for norman after the tutorial\n        if (romCode + \",\" + bank + \",\" + map + \",\" + warpNo == \"E,8,1,255\") {\n            writeGameVar(0x4085, 6);\n            modifyBaseFlag(0x2D6, 1);\n            modifyBaseFlag(0x362, 1);\n        }\n\n        // Avoid scripted warps, route connections without zone e.t.c\n        return address; \n    }\n\n    let pkWarp = null;\n    let trigger = romCode + \",\" + bank + \",\" + map + \",\" + warpNo;\n\n    if (forceNextWarp) {\n        let toParts = forceNextWarp.split(\",\");\n        pkWarp = new PKWarp(trigger, toParts[0], toParts[1], toParts[2], toParts[3], forceNextWarp)\n        reverseNextWarp = false;\n        forceNextWarp = null;\n    } else if(reverseNextWarp && warpList.get(trigger)) {\n        let source = warpList.get(trigger).source;\n        let toParts = source.split(\",\");\n        pkWarp = new PKWarp(trigger, toParts[0], toParts[1], toParts[2], toParts[3], source)\n        reverseNextWarp = false;\n    } else {\n        pkWarp = warpList.get(trigger);\n        console.log(\"Warping triggered for \" + trigger); \n    }\n\n    if (pkWarp) {\n\n        this.write8(EMERALD_CURRENT_BANK, pkWarp.toBank);\n        this.write8(EMERALD_CURRENT_MAP, pkWarp.toMap);\n        this.write8(EMERALD_CURRENT_WARP, pkWarp.toWarpNo);\n\n        specialWarpHandling(pkWarp, trigger);\n\n        console.log(\"Warping sending to \" + pkWarp.toRomCode + \",\" + pkWarp.toBank + \",\" + pkWarp.toMap + \",\" + pkWarp.toWarpNo); \n    } else {\n        console.log(\"Warping sending to vanilla\"); \n    }\n\n    if (useAutosaves) {\n        autosaveState = 1;\n    }\n    \n    \n    isWarping = false;\n\n    return address;\n}\n\nvar warpsNeedingPositionForces = new Map();\nwarpsNeedingPositionForces.set(\"E,0,1,5\"    , [0x1E, 0x1B]);\nwarpsNeedingPositionForces.set(\"E,0,5,0\"    , [0x1B, 0x07]);\nwarpsNeedingPositionForces.set(\"E,0,2,0\"    , [0x08, 0x06]);\nwarpsNeedingPositionForces.set(\"E,0,7,5\"    , [0x2D, 0x07]);\nwarpsNeedingPositionForces.set(\"E,0,7,9\"    , [0x35, 0x1D]);\nwarpsNeedingPositionForces.set(\"E,0,7,4\"    , [0x09, 0x07]);\nwarpsNeedingPositionForces.set(\"E,0,8,2\"    , [0x12, 0x2A]);\nwarpsNeedingPositionForces.set(\"E,0,11,3\"   , [0x11, 0x0E]);\nwarpsNeedingPositionForces.set(\"E,0,12,5\"   , [0x09, 0x02]);\nwarpsNeedingPositionForces.set(\"E,0,14,4\"   , [0x08, 0x02]);\nwarpsNeedingPositionForces.set(\"E,0,15,0\"   , [0x08, 0x10]);\nwarpsNeedingPositionForces.set(\"E,0,26,0\"   , [0x0D, 0x72]);\nwarpsNeedingPositionForces.set(\"E,11,0,2\"   , [0x0E, 0x02]);\nwarpsNeedingPositionForces.set(\"E,14,9,2\"   , [0x0D, 0x02]);\nwarpsNeedingPositionForces.set(\"E,14,10,2\"  , [0x0d, 0x02]);\nwarpsNeedingPositionForces.set(\"E,16,10,2\"  , [0x09, 0x02]);\nwarpsNeedingPositionForces.set(\"E,24,8,2\"   , [0x1D, 0x0D]);\nwarpsNeedingPositionForces.set(\"E,24,8,3\"   , [0x1C, 0x15]);\nwarpsNeedingPositionForces.set(\"E,24,9,0\"   , [0x1D, 0x0D]);\nwarpsNeedingPositionForces.set(\"E,24,9,1\"   , [0x1C, 0x15]);\nwarpsNeedingPositionForces.set(\"E,24,13,4\"  , [0x10, 0x13]);\nwarpsNeedingPositionForces.set(\"E,24,16,4\"  , [0x0B, 0x09]);\nwarpsNeedingPositionForces.set(\"E,24,16,2\"  , [0x0A, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,24,17,5\"  , [0x06, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,24,17,4\"  , [0x0A, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,24,18,2\"  , [0x0C, 0x0A]);\nwarpsNeedingPositionForces.set(\"E,24,18,3\"  , [0x0C, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,24,19,3\"  , [0x0C, 0x0A]);\nwarpsNeedingPositionForces.set(\"E,24,19,4\"  , [0x0C, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,24,24,10\" , [0x20, 0x13]);\nwarpsNeedingPositionForces.set(\"E,24,25,5\"  , [0x05, 0x08]);\nwarpsNeedingPositionForces.set(\"E,24,25,9\"  , [0x20, 0x14]);\nwarpsNeedingPositionForces.set(\"E,24,29,2\"  , [0x06, 0x01]);\nwarpsNeedingPositionForces.set(\"E,24,78,0\"  , [0x11, 0x0D]);\nwarpsNeedingPositionForces.set(\"E,24,81,0\"  , [0x03, 0x01]);\nwarpsNeedingPositionForces.set(\"E,24,82,1\"  , [0x07, 0x01]);\nwarpsNeedingPositionForces.set(\"E,24,95,0\"  , [0x12, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,24,96,0\"  , [0x12, 0x0C]);\nwarpsNeedingPositionForces.set(\"E,26,74,1\"  , [0x05, 0x05]);\nwarpsNeedingPositionForces.set(\"E,26,87,0\"  , [0x0E, 0x13]);\nwarpsNeedingPositionForces.set(\"E,0,10,5\"   , [0x0A, 0x09]);\nwarpsNeedingPositionForces.set(\"E,16,0,1\"   , [0x06, 0x03]);\nwarpsNeedingPositionForces.set(\"E,16,1,1\"   , [0x06, 0x03]);\nwarpsNeedingPositionForces.set(\"E,16,2,1\"   , [0x06, 0x03]);\nwarpsNeedingPositionForces.set(\"E,16,3,1\"   , [0x06, 0x03]);\n\n// OLDALE WARP\nwarpsNeedingPositionForces.set(\"E,11,2,0\"   , [0x02, 0x02]);\n\nvar escalatorTriggers = new Set();\nescalatorTriggers.add(\"E,8,5,0\"  );\nescalatorTriggers.add(\"E,9,12,0\" );\nescalatorTriggers.add(\"E,10,6,0\" );\nescalatorTriggers.add(\"E,11,6,0\" );\nescalatorTriggers.add(\"E,12,3,0\" );\nescalatorTriggers.add(\"E,13,7,0\" );\nescalatorTriggers.add(\"E,14,4,0\" );\nescalatorTriggers.add(\"E,15,3,0\" );\nescalatorTriggers.add(\"E,16,13,0\");\nescalatorTriggers.add(\"E,16,14,0\");\nescalatorTriggers.add(\"E,2,3,0\"  );\nescalatorTriggers.add(\"E,3,2,0\"  );\nescalatorTriggers.add(\"E,4,6,0\"  );\nescalatorTriggers.add(\"E,5,5,0\"  );\nescalatorTriggers.add(\"E,6,5,0\"  );\nescalatorTriggers.add(\"E,7,1,0\"  );\n\n/*\n*   DuringWarp handling takes place before the warp had happened but after the new rom has been loaded\n*   This is useful for when you need to set a flag/var in  a game you are loading before the new map loads\n*/\nfunction specialWarpHandling(pkwarp, trigger) {\n    \n    let destination = pkwarp.toRomCode + \",\" + pkwarp.toBank + \",\" + pkwarp.toMap + \",\" + pkwarp.toWarpNo;\n\n    // If Petalburg Gym make either catch tutorial or battle\n    if (destination == \"E,8,1,0\") {\n        // If catch tutorial hasn't been done we set to that\n        // otherwise we set to battle state\n        let petalburgState = readGameVar(0x4057);\n        if (petalburgState < 1) {\n            writeGameVar(0x4085, 0)\n        } else {\n            writeGameVar(0x4085, 6)\n        }\n\n        // Unlock left of petalburg\n        writeGameVar(0x4057, 1);\n\n    } else if (destination == \"E,16,0,0\") {\n        // E4 rooms needs to walk fowards when entering\n        writeGameVar(0x409C, 0);\n    } else if (destination == \"E,16,0,1\")  {\n        writeGameVar(0x409C, 1);\n    } else if (destination == \"E,16,1,0\") {\n        writeGameVar(0x409C, 1);\n    } else if (destination == \"E,16,1,1\") {\n        writeGameVar(0x409C, 2);\n    } else if (destination == \"E,16,2,0\") {\n        writeGameVar(0x409C, 2);\n    } else if (destination == \"E,16,2,1\") {\n        writeGameVar(0x409C, 3);\n    } else if (destination == \"E,16,3,0\") {\n        writeGameVar(0x409C, 3);\n    } else if (destination == \"E,16,3,1\") {\n        writeGameVar(0x409C, 4);\n    } else  if (destination == \"E,10,0,0\") {\n        // If Mauville Gym make battle\n        new FlagManager().setFlag(IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_1_PTR), 0x1270, 0x391, 0);\n    } else if (destination == \"E,29,1,0\" || destination == \"E,29,1,1\") {\n        // Make Sure the trick master won't crash the game\n        if (readGameVar(\"E\", 0x4044) > 7) {\n            writeGameVar(\"E\", 0x4044, 7);\n        }\n    } \n    \n    if (warpsNeedingPositionForces.get(destination)) {\n\n        // Some warps will break expected connections if we use an escalator / teleport \n        // so we need to fix the post warp position manually\n        \n        needsPositioningAfterWarp = [...warpsNeedingPositionForces.get(destination)];\n\n        // If the trigger was an escalator we need to apply the movement script to the position correction  \n        if (escalatorTriggers.has(trigger)) {\n            needsPositioningAfterWarp[0]--;\n        }\n        \n    } else if (escalatorTriggers.has(trigger)) {\n\n        // In general if it's from an escalator we move the warp left 1 even if it's not a special warp\n\n        fromEscalator = true;\n\n    }\n\n    if (syncMultiplayerStates) {\n        let bagManager = new BagStoreage();\n        bagManager.readData();\n        let flagManager = new FlagManager(bagManager);\n        gameSyncState.update(flagManager);\n        flagManager.writeFlags();\n    } else {\n        let bagManager = new BagStoreage();\n        bagManager.readData();\n        new FlagManager(bagManager).writeFlags();\n    }\n}\n\n/***********************/\n/* Dynamic rom patches */  \n/***********************/\n\n\nconst MAP_TYPE_ADDRESS = 0x2037f2f;\nconst MAP_TYPES = {\n    NONE       : 0,\n    TOWN       : 1,\n    CITY       : 2,\n    ROUTE      : 3,\n    UNDERGROUND: 4,\n    UNDERWATER : 5,\n    OCEAN_ROUTE: 6,\n    UNKNOWN    : 7, // Not used by any map.\n    INDOOR     : 8,\n    SECRET_BASE: 9\n};\n\nfunction isMapOutside() {\n    let mapType = IodineGUI.Iodine.IOCore.cpu.read8(MAP_TYPE_ADDRESS);\n    return mapType == MAP_TYPES.NONE ||\n           mapType == MAP_TYPES.TOWN ||\n           mapType == MAP_TYPES.CITY ||\n           mapType == MAP_TYPES.ROUTE ||\n           mapType == MAP_TYPES.UNDERWATER ||\n           mapType == MAP_TYPES.OCEAN_ROUTE;\n}\n\nvar hasRunNewGameCode = false; // Dosn't matter if this is reset because the truck sequence only ever get's played once\nGameBoyAdvanceMultiCartridge.prototype.readROM16WithoutIntercept = GameBoyAdvanceMultiCartridge.prototype.readROM16;\nGameBoyAdvanceMultiCartridge.prototype.readROM16 = function (address) {\n    \n    if (address == 0xb9f78) {\n        console.log(\"Destination to escape warp\");\n\n        if (isMapOutside()) {\n            usingHomeWarp = true;\n        }\n    } else if (!hasRunNewGameCode && address == 0x117bcc) {\n        console.log(\"Truck Sequence Started\");\n\n        let bag = new BagStoreage();\n        bag.readData(IodineGUI.Iodine.IOCore.cartridge.romCode);\n\n        // Make sure we have the acro bike as well as the mach bike\n        if (!bag.hasKeyItem(ITEM_DATA[\"ACRO BIKE\"].number)) {\n            bag.keyItemsPocket.set(ITEM_DATA[\"ACRO BIKE\"].number, 1);\n            bag.writeData(false);\n        }\n\n        hasRunNewGameCode = true;\n    }\n\n\n    return this.readROM16WithoutIntercept(address);\n}\n\nvar currentlySaving = false;\nGameBoyAdvanceMultiCartridge.prototype.readROM8WithoutIntercept = GameBoyAdvanceMultiCartridge.prototype.readROM8;\nGameBoyAdvanceMultiCartridge.prototype.readROM8 = function (address) {\n\n    if (address == 0x251aed || address == 0x251af9) {\n        console.log(\"Hall Of Fame End\");\n\n        longDisableBypassWait();\n    }   \n\n    if (currentlySaving) {\n        if ((address == 3084361 || address == 8455992)) {\n            console.log(\"saved\");\n            saveAfterDelay();\n            currentlySaving = false;\n        }\n    }\n\n    return this.readROM8WithoutIntercept(address);\n}\n\nasync function saveAfterDelay() {\n    await delay(200);\n    IodineGUI.Iodine.exportSave();\n}\n\nGameBoyAdvanceSaves.prototype.saveIntercept = function(address, data) {\n    if (address == 0 && data == 48) {\n        currentlySaving = true;\n    } \n}\n\n/******************/\n/* Data Addresses */\n/******************/\n/**\n *  Addresses for save data, Team is not copied here because we use where it is statically stored in memory\n *  Addresses are offsets from the 32bit addresses that can be found using the pointers (ptr locations are static)\n *  Money is xor'd against 32bit xor key, item quantity is xor'd against the first 2 bytes of that key.\n *  \n *  Dynamicly Addressed memory means the three sections of data move in memory (hence we need to look the up with ptrs)\n *  These change each time the bag is accessed or a warp is triggered (and at various other times)\n * \n *  There are 3 dynamic sections. SAV1 (mostly relating to team and items)\n *  SAV2 (storing the xor key, and trainer data, play time, settings, seen mons e.t.c)\n *  We don't deal with SAV3 but it's mostly boxed pokemon / box config   \n */\n\n\n// DYNAMIC SAV1 PTRs\nconst EMERALD_SAVE_1_PTR = 0x03004cac;\n\n// DYNAMIC SAV2 PTRs\nconst EMERALD_SAVE_2_PTR = 0x03004cb0;\n\n\n/**************************/\n/* Bag Storage Management */\n/**************************/\n/**\n * \n *  Bag storeage requires special handling as quantities are xor'd with a special key \n *  that changes and will be different for each game\n *\n */\n\n// XOR Key\nconst EMERALD_XOR_KEY_OFFSET = 0xAC;\nconst EMERALD_XOR_KEY_LENGTH = 4;\n\n// ITEM POCKET\nconst EMERALD_ITEM_OFFSET = 0x0560;\nconst EMERALD_ITEM_LENGTH = 120;\n\n// KEY ITEM POCKET\nconst EMERALD_KEY_ITEM_OFFSET = 0x05D8;\nconst EMERALD_KEY_ITEM_LENGTH = 120;\n\n// BALLS\nconst EMERALD_BALL_OFFSET = 0x0650;\nconst EMERALD_BALL_LENGTH = 64;\n\n// TM Case\nconst EMERALD_TM_OFFSET = 0x0690;\nconst EMERALD_TM_LENGTH = 256;\n\n// Berry Pocket\nconst EMERALD_BERRIES_OFFSET = 0x0790;\nconst EMERALD_BERRIES_LENGTH = 184;\n\n\nfunction BagStoreage() {\n\n    //this.pcItems = new Map();\n    this.itemPocket = new Map();\n    this.keyItemsPocket = new Map();\n    this.ballItemPocket = new Map();\n    this.tmCase = new Map();\n    this.berryPocket = new Map();\n}\n\n\nBagStoreage.prototype.readData = function () {\n    this.itemPocket.clear();\n    this.keyItemsPocket.clear();\n    this.ballItemPocket.clear();\n    this.tmCase.clear();\n    this.berryPocket.clear();\n\n    let save2Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_2_PTR);\n    let xorKey16 = IodineGUI.Iodine.IOCore.cpu.read16(save2Start + EMERALD_XOR_KEY_OFFSET);\n\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_1_PTR);\n\n    // read items\n    this.readItemSection(save1Start, EMERALD_ITEM_OFFSET, EMERALD_ITEM_LENGTH, this.itemPocket, xorKey16);\n\n    // read key items\n    this.readItemSection(save1Start, EMERALD_KEY_ITEM_OFFSET, EMERALD_KEY_ITEM_LENGTH, this.keyItemsPocket, xorKey16);\n\n    // read balls\n    this.readItemSection(save1Start, EMERALD_BALL_OFFSET, EMERALD_BALL_LENGTH, this.ballItemPocket, xorKey16);\n\n    // read tms\n    this.readItemSection(save1Start, EMERALD_TM_OFFSET, EMERALD_TM_LENGTH, this.tmCase, xorKey16);\n\n    // read berries\n    this.readItemSection(save1Start, EMERALD_BERRIES_OFFSET, EMERALD_BERRIES_LENGTH, this.berryPocket, xorKey16);\n}\n\nBagStoreage.prototype.writeData = function (isLoadingScreen) {\n    let save2Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_2_PTR);\n    let xorKey16 = IodineGUI.Iodine.IOCore.cpu.read16(save2Start + EMERALD_XOR_KEY_OFFSET);\n\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_1_PTR);\n\n    // write items\n    this.writeItemSection(save1Start, EMERALD_ITEM_OFFSET, EMERALD_ITEM_LENGTH, this.itemPocket, xorKey16, isLoadingScreen);\n\n    // write key items\n    this.writeItemSection(save1Start, EMERALD_KEY_ITEM_OFFSET, EMERALD_KEY_ITEM_LENGTH, this.keyItemsPocket, xorKey16, false);\n\n    // write balls\n    this.writeItemSection(save1Start, EMERALD_BALL_OFFSET, EMERALD_BALL_LENGTH, this.ballItemPocket, xorKey16, isLoadingScreen);\n\n    // write tms\n    this.writeItemSection(save1Start, EMERALD_TM_OFFSET, EMERALD_TM_LENGTH, this.tmCase, xorKey16, isLoadingScreen);\n\n    // write berries\n    this.writeItemSection(save1Start, EMERALD_BERRIES_OFFSET, EMERALD_BERRIES_LENGTH, this.berryPocket, xorKey16, isLoadingScreen);\n}\n\nBagStoreage.prototype.readItemSection = function(save1Start, offset, length, storeTo, xorKey16) {\n    for (let i = 0;  i < offset + length; i+=4) {\n        let item = IodineGUI.Iodine.IOCore.cpu.read16(save1Start + offset + i);\n\n        if (item == 0) { break; }\n\n        let ballQuantity = IodineGUI.Iodine.IOCore.cpu.read16(save1Start + offset + i + 2) ^ xorKey16;\n        storeTo.set(item, ballQuantity);\n    }\n}\n\nBagStoreage.prototype.writeItemSection = function(save1Start, offset, length, store, xorKey16, clear) {\n\n    var storeArr = [...store];\n\n    for (let i = 0;  i < offset + length; i+=4) {\n\n        let index = i / 4;\n        if (storeArr.length > index) {\n\n            let item = (storeArr[i / 4])[0];\n            let quantity = (storeArr[i / 4])[1] ^ xorKey16;\n\n            IodineGUI.Iodine.IOCore.cpu.write16(save1Start + offset + i, item);\n            IodineGUI.Iodine.IOCore.cpu.write16(save1Start + offset + i + 2, quantity);\n\n        } else {\n\n            // No more items to copy\n            if(clear) {\n                let item = ITEM_DATA.Nothing.number;\n                let quantity = 0 ^ xorKey16;\n                \n                IodineGUI.Iodine.IOCore.cpu.write16(save1Start + offset + i, item);\n                IodineGUI.Iodine.IOCore.cpu.write16(save1Start + offset + i + 2, quantity);\n            } else {\n                break;\n            }\n        }\n    }\n}\n\nBagStoreage.prototype.hasKeyItem = function(item) {\n    return this.keyItemsPocket.has(item);\n}\n\nBagStoreage.prototype.hasHm = function(item) {\n    return this.tmCase.has(item);\n}\n\n/*******************/\n/* Flag Management */\n/*******************/\n\n// This handles any general vars/flags that need to be transfered when switching games\n\n// IN DYNAMIC SAV1\n// The equations are so the offsets line up the the flags defined in the decomp projects\n// https://github.com/pret/pokeemerald/blob/master/include/constants/flags.h\n// https://github.com/pret/pokeemerald/blob/master/include/constants/vars.h\nconst EMERALD_BASE_FLAGS_OFFSET   = 0x1270;\nconst EMERALD_SYS_FLAGS_OFFSET    = 0x137C;\nconst EMERALD_BADGE1_OFFSET       = 0x7;\nconst EMERALD_BADGE2_OFFSET       = 0x8;\nconst EMERALD_BADGE3_OFFSET       = 0x9;\nconst EMERALD_BADGE4_OFFSET       = 0xA;\nconst EMERALD_BADGE5_OFFSET       = 0xB;\nconst EMERALD_BADGE6_OFFSET       = 0xC;\nconst EMERALD_BADGE7_OFFSET       = 0xD;\nconst EMERALD_BADGE8_OFFSET       = 0xE;\nconst EMERALD_RUNNING_SHOE_OFFSET = 0x60;\nconst EMERALD_POKEDEX_OFFSET      = 0x1; \nconst EMERALD_NATIONAL_DEX_OFFSET = 0x36;\nconst EMERALD_BADGE_OFFSETS = [EMERALD_BADGE1_OFFSET, \n                               EMERALD_BADGE2_OFFSET, \n                               EMERALD_BADGE3_OFFSET, \n                               EMERALD_BADGE4_OFFSET, \n                               EMERALD_BADGE5_OFFSET, \n                               EMERALD_BADGE6_OFFSET, \n                               EMERALD_BADGE7_OFFSET, \n                               EMERALD_BADGE8_OFFSET];\n\nconst EMERALD_BASE_VAR_OFFSET = 0x139c;\n\nconst EMERALD_STARTER_CHOICE_OFFSET = 0x4023;\n\nfunction FlagManager(bag) {\n    this.badge1 = null;\n    this.badge2 = null;\n    this.badge3 = null;\n    this.badge4 = null;\n    this.badge5 = null;\n    this.badge6 = null;\n    this.badge7 = null;\n    this.badge8 = null;\n    this.hasRunningShoes = null;\n    this.bag = bag;\n}\n\nFlagManager.prototype.getFlag = function (saveOffset, sectionOffset, flagOffset) {\n\n    let flagByte = IodineGUI.Iodine.IOCore.cpu.read8(saveOffset + sectionOffset + Math.ceil((flagOffset + 1) / 8) - 1);\n    let flagBit = flagOffset % 8;\n\n    return !!+flagByte.toString(2).padStart(8, 0).split(\"\").reverse()[flagBit];\n}\n\nFlagManager.prototype.setFlag = function (saveOffset, sectionOffset, flagOffset, value) {\n\n    let flagByte = IodineGUI.Iodine.IOCore.cpu.read8(saveOffset + sectionOffset + Math.ceil((flagOffset + 1) / 8) - 1);\n    let flagBit = flagOffset % 8;\n\n    let byteArr = flagByte.toString(2).padStart(8, 0).split(\"\").reverse();\n    byteArr[flagBit] = value;\n\n    IodineGUI.Iodine.IOCore.cpu.write8(saveOffset + sectionOffset + Math.ceil((flagOffset + 1) / 8) - 1, parseInt(byteArr.reverse().join(\"\"), 2));\n\n}\n\nFlagManager.prototype.readFlags = function () {\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_1_PTR);\n\n    this.badge1          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE1_OFFSET);\n    this.badge2          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE2_OFFSET);\n    this.badge3          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE3_OFFSET);\n    this.badge4          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE4_OFFSET);\n    this.badge5          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE5_OFFSET);\n    this.badge6          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE6_OFFSET);\n    this.badge7          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE7_OFFSET);\n    this.badge8          = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE8_OFFSET);\n    this.hasRunningShoes = this.getFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_RUNNING_SHOE_OFFSET);\n}\n\nFlagManager.prototype.writeFlags = function () {\n\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_1_PTR);\n\n    this.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_RUNNING_SHOE_OFFSET, +this.hasRunningShoes);\n\n    // Open regi doors\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0xE4, 1);\n\n    // Not On Bike Path\n    modifySystemFlag(0x2B, 0);\n\n    // Open Sootopolis Gym Door\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x9E, 1);\n\n    // Sootopolis always in nice state\n    writeGameVar(0x405E, 0);\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x81, 1);\n\n    // Rae-Rae always available\n    writeGameVar(0x40D7, 0);\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x50, 0);\n\n    // Show steven on the bridge\n    if (!this.bag.hasKeyItem(ITEM_DATA[\"DEVON SCOPE\"].number)) {\n        this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x3CC, 0);\n    } else {\n        this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x3CC, 1);\n    }\n    \n    // Make sure the magma embelem can always be got\n    if (!this.bag.hasKeyItem(ITEM_DATA[\"MAGMA EMBLEM\"].number)) {\n        writeGameVar(0x40B9, 0);\n    } else {\n        // Hide Jagged Pass Magma guard if we have magma emblem\n        this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x34F, 1);\n    }\n\n    // Unblock Tunnlers rest house \n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x8F, 1);\n\n    // Unblock Devon corp f1\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x90, 1);\n\n    // Hide Steven and wallace in sootopolis\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x3CD, 1);\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x330, 1);\n\n    // Hide the old man blocking the cave of origin\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x493, 1);\n\n    // Unhide man from the top of sootopolice\n    // We patched him to give waterfall, dress like wallace and stand in front of the gym\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x347, 0);\n\n    // Remove the brigde Kecleon so we can ride up from lilycove\n    this.setFlag(save1Start, EMERALD_BASE_FLAGS_OFFSET, 0x3CA, 1);\n}\n\n\nfunction modifyBadge(badgeNumber, shouldGiveOrRemoveBit) {\n\n    modifySystemFlag(EMERALD_BADGE_OFFSETS[badgeNumber - 1], shouldGiveOrRemoveBit);\n\n}\n\nfunction modifyRunningShoes(shouldGiveOrRemoveBit) {\n\n    modifySystemFlag(EMERALD_RUNNING_SHOE_OFFSET, shouldGiveOrRemoveBit);\n\n}\n\nfunction modifySystemFlag(offset, shouldGiveOrRemoveBit) {\n\n    let manager = new FlagManager();\n    manager.readFlags();\n\n    let savePtr = EMERALD_SAVE_1_PTR;\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(savePtr);\n\n    let sysFlagOffset = EMERALD_SYS_FLAGS_OFFSET;\n\n    manager.setFlag(save1Start, sysFlagOffset, offset, shouldGiveOrRemoveBit);\n}\n\nfunction modifyBaseFlag(offset, shouldGiveOrRemoveBit) {\n\n    let manager = new FlagManager();\n    manager.readFlags();\n\n    let savePtr = EMERALD_SAVE_1_PTR;\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(savePtr);\n\n    let sysFlagOffset = EMERALD_BASE_FLAGS_OFFSET;\n\n    manager.setFlag(save1Start, sysFlagOffset, offset, shouldGiveOrRemoveBit);\n\n}\n\nfunction readSystemFlag(offset) {\n\n    let manager = new FlagManager();\n    manager.readFlags();\n\n    let savePtr = EMERALD_SAVE_1_PTR;\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(savePtr);\n\n    let sysFlagOffset = EMERALD_SYS_FLAGS_OFFSET;\n\n    return manager.getFlag(save1Start, sysFlagOffset, offset);\n\n}\n\nfunction readBaseFlag(offset) {\n\n    let manager = new FlagManager();\n    manager.readFlags();\n\n    let savePtr = EMERALD_SAVE_1_PTR;\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(savePtr);\n\n    let sysFlagOffset = EMERALD_BASE_FLAGS_OFFSET;\n\n    return manager.getFlag(save1Start, sysFlagOffset, offset);\n\n}\n\nfunction writeGameVar(offset, data) {\n\n    let savePtr = EMERALD_SAVE_1_PTR;\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(savePtr);\n\n    let baseVarOffset = EMERALD_BASE_VAR_OFFSET;\n\n    IodineGUI.Iodine.IOCore.cpu.write16(save1Start + baseVarOffset + ((offset - 0x4000) * 2), data);\n}\n\nfunction readGameVar(offset) {\n\n    let savePtr = EMERALD_SAVE_1_PTR;\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(savePtr);\n\n    let baseVarOffset = EMERALD_BASE_VAR_OFFSET;\n\n    return IodineGUI.Iodine.IOCore.cpu.read16(save1Start + baseVarOffset + ((offset - 0x4000) * 2));\n}\n\n/*******************/\n/*  Sync Manager   */\n/*******************/\n\n// Sync manager is for Coop multiplayer\n// Allows syncing certain progress between games\n\nvar syncMultiplayerStates = false;\nvar gameSyncState = new SyncManager();\n\n\nfunction SyncState() {\n    // Badges to sync\n    this.badge1 = null;\n    this.badge2 = null;\n    this.badge3 = null;\n    this.badge4 = null;\n    this.badge5 = null;\n    this.badge6 = null;\n    this.badge7 = null;\n    this.badge8 = null;\n\n    // HMs to sync\n    this.hm01 = null;\n    this.hm02 = null;\n    this.hm03 = null;\n    this.hm04 = null;\n    this.hm05 = null;\n    this.hm06 = null;\n    this.hm07 = null;\n    this.hm08 = null;\n\n    // Key Items to Sync\n    this.magmaEmblem = null;\n    this.devonScope = null;\n    this.basementKey = null;\n    this.storeageKey = null;\n    this.goGoggles = null;\n}\n\n\nfunction SyncManager() {\n    this.localSyncState = new SyncState();\n    this.remoteSyncState = new SyncState();\n}\n\nSyncManager.prototype.onUpdateFinished = function () {}\n\nSyncManager.prototype.update = function (flagManager) {\n\n    this.localUpdate(flagManager);\n    this.updateFromRemote();\n\n    let save1Start = IodineGUI.Iodine.IOCore.cpu.read32(EMERALD_SAVE_1_PTR);\n\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE1_OFFSET, this.localSyncState.badge1 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE2_OFFSET, this.localSyncState.badge2 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE3_OFFSET, this.localSyncState.badge3 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE4_OFFSET, this.localSyncState.badge4 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE5_OFFSET, this.localSyncState.badge5 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE6_OFFSET, this.localSyncState.badge6 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE7_OFFSET, this.localSyncState.badge7 ? 1 : 0);\n    flagManager.setFlag(save1Start, EMERALD_SYS_FLAGS_OFFSET, EMERALD_BADGE8_OFFSET, this.localSyncState.badge8 ? 1 : 0);\n\n    if (this.localSyncState.hm01) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM01 CUT\"].number       , 1); }\n    if (this.localSyncState.hm02) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM02 FLY\"].number       , 1); }\n    if (this.localSyncState.hm03) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM03 SURF\"].number      , 1); }\n    if (this.localSyncState.hm04) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM04 STRENGTH\"].number  , 1); }\n    if (this.localSyncState.hm05) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM05 FLASH\"].number     , 1); }\n    if (this.localSyncState.hm06) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM06 ROCK SMASH\"].number, 1); }\n    if (this.localSyncState.hm07) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM07 WATERFALL\"].number , 1); }\n    if (this.localSyncState.hm08) { flagManager.bag.tmCase.set(ITEM_DATA[\"HM08 DIVE\"].number      , 1); }\n\n    if (this.localSyncState.magmaEmblem) { flagManager.bag.keyItemsPocket.set(ITEM_DATA[\"MAGMA EMBLEM\"].number     , 1); }\n    if (this.localSyncState.devonScope)  { flagManager.bag.keyItemsPocket.set(ITEM_DATA[\"DEVON SCOPE\"].number      , 1); }\n    if (this.localSyncState.basementKey) { flagManager.bag.keyItemsPocket.set(ITEM_DATA[\"BASEMENT KEY\"].number     , 1); }\n    if (this.localSyncState.storeageKey) { flagManager.bag.keyItemsPocket.set(ITEM_DATA[\"STORAGE KEY\"].number      , 1); }\n    if (this.localSyncState.goGoggles)   { flagManager.bag.keyItemsPocket.set(ITEM_DATA[\"GO GOGGLES\"].number       , 1); }\n\n    flagManager.bag.writeData(true);\n\n    this.onUpdateFinished();\n}\n\nSyncManager.prototype.localUpdate = function (flagManager) {\n\n    flagManager.readFlags();\n\n    this.localSyncState.badge1 = flagManager.badge1;\n    this.localSyncState.badge2 = flagManager.badge2;\n    this.localSyncState.badge3 = flagManager.badge3;\n    this.localSyncState.badge4 = flagManager.badge4;\n    this.localSyncState.badge5 = flagManager.badge5;\n    this.localSyncState.badge6 = flagManager.badge6;\n    this.localSyncState.badge7 = flagManager.badge7;\n    this.localSyncState.badge8 = flagManager.badge8;\n\n    this.localSyncState.hm01 = flagManager.bag.hasHm(ITEM_DATA[\"HM01 CUT\"].number);\n    this.localSyncState.hm02 = flagManager.bag.hasHm(ITEM_DATA[\"HM02 FLY\"].number);\n    this.localSyncState.hm03 = flagManager.bag.hasHm(ITEM_DATA[\"HM03 SURF\"].number);\n    this.localSyncState.hm04 = flagManager.bag.hasHm(ITEM_DATA[\"HM04 STRENGTH\"].number);\n    this.localSyncState.hm05 = flagManager.bag.hasHm(ITEM_DATA[\"HM05 FLASH\"].number);\n    this.localSyncState.hm06 = flagManager.bag.hasHm(ITEM_DATA[\"HM06 ROCK SMASH\"].number);\n    this.localSyncState.hm07 = flagManager.bag.hasHm(ITEM_DATA[\"HM07 WATERFALL\"].number);\n    this.localSyncState.hm08 = flagManager.bag.hasHm(ITEM_DATA[\"HM08 DIVE\"].number);\n\n    this.localSyncState.magmaEmblem = flagManager.bag.hasKeyItem(ITEM_DATA[\"MAGMA EMBLEM\"].number);\n    this.localSyncState.devonScope  = flagManager.bag.hasKeyItem(ITEM_DATA[\"DEVON SCOPE\"].number);\n    this.localSyncState.basementKey = flagManager.bag.hasKeyItem(ITEM_DATA[\"BASEMENT KEY\"].number);\n    this.localSyncState.storeageKey = flagManager.bag.hasKeyItem(ITEM_DATA[\"STORAGE KEY\"].number);\n    this.localSyncState.goGoggles   = flagManager.bag.hasKeyItem(ITEM_DATA[\"GO GOGGLES\"].number);\n\n}\n\nSyncManager.prototype.updateFromRemote = function () {\n\n    this.localSyncState.badge1 = this.localSyncState.badge1 || this.remoteSyncState.badge1;\n    this.localSyncState.badge2 = this.localSyncState.badge2 || this.remoteSyncState.badge2;\n    this.localSyncState.badge3 = this.localSyncState.badge3 || this.remoteSyncState.badge3;\n    this.localSyncState.badge4 = this.localSyncState.badge4 || this.remoteSyncState.badge4;\n    this.localSyncState.badge5 = this.localSyncState.badge5 || this.remoteSyncState.badge5;\n    this.localSyncState.badge6 = this.localSyncState.badge6 || this.remoteSyncState.badge6;\n    this.localSyncState.badge7 = this.localSyncState.badge7 || this.remoteSyncState.badge7;\n    this.localSyncState.badge8 = this.localSyncState.badge8 || this.remoteSyncState.badge8;\n\n    this.localSyncState.hm01 = this.localSyncState.hm01 || this.remoteSyncState.hm01;\n    this.localSyncState.hm02 = this.localSyncState.hm02 || this.remoteSyncState.hm02;\n    this.localSyncState.hm03 = this.localSyncState.hm03 || this.remoteSyncState.hm03;\n    this.localSyncState.hm04 = this.localSyncState.hm04 || this.remoteSyncState.hm04;\n    this.localSyncState.hm05 = this.localSyncState.hm05 || this.remoteSyncState.hm05;\n    this.localSyncState.hm06 = this.localSyncState.hm06 || this.remoteSyncState.hm06;\n    this.localSyncState.hm07 = this.localSyncState.hm07 || this.remoteSyncState.hm07;\n    this.localSyncState.hm08 = this.localSyncState.hm08 || this.remoteSyncState.hm08;\n\n    this.localSyncState.magmaEmblem = this.localSyncState.magmaEmblem || this.remoteSyncState.magmaEmblem;\n    this.localSyncState.devonScope  = this.localSyncState.devonScope  || this.remoteSyncState.devonScope;\n    this.localSyncState.basementKey = this.localSyncState.basementKey || this.remoteSyncState.basementKey;\n    this.localSyncState.storeageKey = this.localSyncState.storeageKey || this.remoteSyncState.storeageKey;\n    this.localSyncState.goGoggles   = this.localSyncState.goGoggles   || this.remoteSyncState.goGoggles;\n\n}\n\nSyncManager.prototype.mergeNewRemoteSyncState = function (newRemoteSyncState) {\n\n    this.remoteSyncState.badge1 = this.remoteSyncState.badge1 || newRemoteSyncState.badge1;\n    this.remoteSyncState.badge2 = this.remoteSyncState.badge2 || newRemoteSyncState.badge2;\n    this.remoteSyncState.badge3 = this.remoteSyncState.badge3 || newRemoteSyncState.badge3;\n    this.remoteSyncState.badge4 = this.remoteSyncState.badge4 || newRemoteSyncState.badge4;\n    this.remoteSyncState.badge5 = this.remoteSyncState.badge5 || newRemoteSyncState.badge5;\n    this.remoteSyncState.badge6 = this.remoteSyncState.badge6 || newRemoteSyncState.badge6;\n    this.remoteSyncState.badge7 = this.remoteSyncState.badge7 || newRemoteSyncState.badge7;\n    this.remoteSyncState.badge8 = this.remoteSyncState.badge8 || newRemoteSyncState.badge8;\n\n    this.remoteSyncState.hm01 = this.remoteSyncState.hm01 || newRemoteSyncState.hm01;\n    this.remoteSyncState.hm02 = this.remoteSyncState.hm02 || newRemoteSyncState.hm02;\n    this.remoteSyncState.hm03 = this.remoteSyncState.hm03 || newRemoteSyncState.hm03;\n    this.remoteSyncState.hm04 = this.remoteSyncState.hm04 || newRemoteSyncState.hm04;\n    this.remoteSyncState.hm05 = this.remoteSyncState.hm05 || newRemoteSyncState.hm05;\n    this.remoteSyncState.hm06 = this.remoteSyncState.hm06 || newRemoteSyncState.hm06;\n    this.remoteSyncState.hm07 = this.remoteSyncState.hm07 || newRemoteSyncState.hm07;\n    this.remoteSyncState.hm08 = this.remoteSyncState.hm08 || newRemoteSyncState.hm08;\n\n    this.remoteSyncState.magmaEmblem = this.remoteSyncState.magmaEmblem || newRemoteSyncState.magmaEmblem;\n    this.remoteSyncState.devonScope  = this.remoteSyncState.devonScope  || newRemoteSyncState.devonScope;\n    this.remoteSyncState.basementKey = this.remoteSyncState.basementKey || newRemoteSyncState.basementKey;\n    this.remoteSyncState.storeageKey = this.remoteSyncState.storeageKey || newRemoteSyncState.storeageKey;\n    this.remoteSyncState.goGoggles   = this.remoteSyncState.goGoggles   || newRemoteSyncState.goGoggles;\n\n}\n\n\n\nSyncManager.prototype.updateRemoteSyncState = function(syncState) {\n    this.remoteSyncState = syncState;\n} "],"names":["isWarping","randomWarpsEnabled","needsPositioningAfterWarp","fromEscalator","mapHeaderChanged","autosaveState","EMERALD_CURRENT_BANK","EMERALD_CURRENT_MAP","EMERALD_CURRENT_WARP","X_VAL_POST_WARP","Y_VAL_POST_WARP","flagManager","SPEEDUP_HACKS_MODE","ON","BATTLE_ONLY","OFF","speedupHackState","setSpeedupHackState","mode","bypassWait","disableWaitCount","doingLongWait","async","disableBypassWait","Math","max","delay","longDisableBypassWait","usingHomeWarp","GameBoyAdvanceCPU","prototype","write32WithoutIntercept","write32","address","data","IodineGUI","Iodine","saveStateManager","saveMultiState","this","write8","warpsNeedingPositionForces","get","write16WithoutIntercept","write16","console","log","yLocation","write8WithoutIntercept","forceNextWarp","read8WithoutIntercept","read8","handleWarpRedirection","IOCore","cartridge","romCode","reverseNextWarp","useAutosaves","bank","map","warpNo","writeGameVar","modifyBaseFlag","pkWarp","trigger","toParts","split","PKWarp","warpList","source","toParts1","toBank","toMap","toWarpNo","specialWarpHandling","toRomCode","Map","set","escalatorTriggers","Set","pkwarp","destination","readGameVar","FlagManager","setFlag","cpu","read32","EMERALD_SAVE_1_PTR","has","syncMultiplayerStates","bagManager","BagStoreage","readData","gameSyncState","update","writeFlags","bagManager1","add","MAP_TYPE_ADDRESS","MAP_TYPES","NONE","TOWN","CITY","ROUTE","UNDERGROUND","UNDERWATER","OCEAN_ROUTE","UNKNOWN","INDOOR","SECRET_BASE","isMapOutside","mapType","hasRunNewGameCode","GameBoyAdvanceMultiCartridge","readROM16WithoutIntercept","readROM16","bag","hasKeyItem","ITEM_DATA","number","keyItemsPocket","writeData","currentlySaving","saveAfterDelay","exportSave","readROM8WithoutIntercept","readROM8","GameBoyAdvanceSaves","saveIntercept","EMERALD_SAVE_2_PTR","EMERALD_XOR_KEY_OFFSET","EMERALD_XOR_KEY_LENGTH","EMERALD_ITEM_OFFSET","EMERALD_ITEM_LENGTH","EMERALD_KEY_ITEM_OFFSET","EMERALD_KEY_ITEM_LENGTH","EMERALD_BALL_OFFSET","EMERALD_BALL_LENGTH","EMERALD_TM_OFFSET","EMERALD_TM_LENGTH","EMERALD_BERRIES_OFFSET","EMERALD_BERRIES_LENGTH","itemPocket","ballItemPocket","tmCase","berryPocket","clear","save2Start","xorKey16","read16","save1Start","readItemSection","isLoadingScreen","writeItemSection","offset","length","storeTo","i","item","ballQuantity","store","storeArr","quantity","item1","Nothing","quantity1","hasHm","EMERALD_BASE_FLAGS_OFFSET","EMERALD_SYS_FLAGS_OFFSET","EMERALD_BADGE1_OFFSET","EMERALD_BADGE2_OFFSET","EMERALD_BADGE3_OFFSET","EMERALD_BADGE4_OFFSET","EMERALD_BADGE5_OFFSET","EMERALD_BADGE6_OFFSET","EMERALD_BADGE7_OFFSET","EMERALD_BADGE8_OFFSET","EMERALD_RUNNING_SHOE_OFFSET","EMERALD_POKEDEX_OFFSET","EMERALD_NATIONAL_DEX_OFFSET","EMERALD_BADGE_OFFSETS","EMERALD_BASE_VAR_OFFSET","EMERALD_STARTER_CHOICE_OFFSET","badge1","badge2","badge3","badge4","badge5","badge6","badge7","badge8","hasRunningShoes","modifyBadge","badgeNumber","shouldGiveOrRemoveBit","modifySystemFlag","modifyRunningShoes","manager","readFlags","savePtr","readSystemFlag","getFlag","readBaseFlag","saveOffset","sectionOffset","flagOffset","flagBit","ceil","toString","padStart","reverse","value","byteArr","parseInt","join","SyncManager","SyncState","hm01","hm02","hm03","hm04","hm05","hm06","hm07","hm08","magmaEmblem","devonScope","basementKey","storeageKey","goGoggles","localSyncState","remoteSyncState","onUpdateFinished","localUpdate","updateFromRemote","mergeNewRemoteSyncState","newRemoteSyncState","updateRemoteSyncState","syncState"],"version":3,"file":"build-index.88522545.js.map"}